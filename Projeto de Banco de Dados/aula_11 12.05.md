## Revisão projeto de banco de dados
* Modelagem:
   * modelos: conceitual(desenho), lógico(chave estrangeira), físico(tipos e restrições)
   * regra do negócio
* Sistema Gerenciador de Banco de Dados - SGDB : coleção de serviços(manipulação de dados, segurança, backup, integridade -> transação,isolamento, consistência,atomicidade,...)
  * é quem controla se os dados que estão sendo adicionados são repetidos ou não, se for repetido ele não permite a inserção
  * se o atributo for auto incremento também é o sgdb que controla para seja seguida uma sequencia correta 
  
# Transações (ACID - atomicidade, consistência, isolamento e durabilidade)
* ato de manipular dados: inserir, selecionar, atualizar, deletar
* gerenciado pelo sgdb
* quem manipula solicita as manipulações --> codigo - SQL
* excluir dados de um banco --> parou o sistema -->  não tem problema se os dados não tem dependência --> os itens excluidos não intereferem um no outro
* adiconar dados a um banco --> parou o sistema --> não adiciona nenhum dos dados --> não pode adicionar falatando dados 
* Linguagem SQL
    * QUEM OPERACIONALIZA AS TRANSAÇÕES É LINGUAGEM SQL
      * DML - Data Manupulation Language
          * criar databases/esquemas, tabelas(restrições - implicita, pk ao lado do atributo ou explicita, ao final da tabela, depois da declaração dos atributos), visões(tipo de cache)
      * DDL - Data Definition Language
          * inserir, atualizar, selecionar e deletar  
    * exemplo Mysql
      * medelo lógico: curso(cursoId, nome); aluno(aluniId, nome,curso); - curso referência a tabela curso
        
          aluno n ----------- 1 curso
        
  ``` sql
        show database;
        use nomeDataBaseDesejado;
        show table;
  
        create table curso(
          cursoId int auto-increment,
          nome varchar(50) not null,
          primary key (cursoId)
          index 'nomeCurso' (nome) asc
        );
        INSERT INTO curso(cursoId,nome) values(1,"Ciência da Computação");
        INSERT INTO curso(cursoId,nome) values(2,"Sistemas de Informação");
        INSERT INTO curso(nome) values("Jogos Digitais");
        -- como é auto incremento não precisa definir o cursoId de sistema de informações e jogos digitais, pois ele vai seguir a sequencia iniciada no primeiro --> cuidar na "definição" do insert

        create table aluno(
          alunoId int auto_increment,
          nome varchar(50) not null,
          curso int,
          primary key (alunoId)
          index 'nomeAluno' (nome) asc,
          foreign key curso references curso (CursoId)
        );
       INSERT INTO aluno(alunoId,nome,curso) values(1000,"Vanessa",1);
       INSERT INTO aluno(alunoId,nome,curso) values(1001,"Matheus",2);
       INSERT INTO aluno(alunoId,nome,curso) values(1002,"Guilherme",NULL);
  ```
  * SQL em SGBD
    * Álgebra relacional - é utilizado pelo SELECT
        * projeção - isolar coluna(s) de uma ou mais tabelas
``` sql
  -- mostra todos os id dos alunos da tabela aluno
  select alunoId
  from aluno;

-- mostra todos os nomes e id dos alunos da tabela aluno
  select nome, curso
  from aluno;

-- seleção - projetar com condição
-- mostra o nome dos alunos que fazem CC
  select nome
  from aluno
  where curso == 1;

-- mostra todos alunos,nome e id, que não estão vinculados a nenhum curso
  select nome, alunoId
  from aluno
  where curso == NULL;

-- mostra os alunos, nome e id, que fazem CC ou Jogos Digitais
  select nome, alunoId
  from aluno
  where curso == 1 or curso == 3;
```
  * produto cartesiano --> essência da junção (join), Como duas tabelas interagem
        
``` sql
--listar todos os alunos e os nome de seus respectivos cursos --> vai ter que combinar as duas tabelas
  select aluno.nome, curso.nome 
  from aluno,curso
  where aluno.curso = curso.cursoId ;
-- a linha acima é o produto cartesiano, ela compara cada linha da tabela aluno com cada linha do curso, se fosse ao contrario   curso.cursoId = aluno.curso seria ao contrario a comparação, nesse exemplo não faz muita diferença de desempenho;

-- listar todos os alunos do curso Ciência da Computação
  select aluno.nome
  from aluno,curso
  where curso.cursoId = aluno.curso and curso.nome = "Ciência da Computação" ;
-- verifica todos os id e depois verifica quais são os de ciência da computação
   where curso.nome = "Ciência da Computação" and curso.cursoId = aluno.curso;
-- verifica quais são ciência da computação e depois verifica todos os id --> melhora a otimização do sistema.

-- quantos alunos são da cc
    select count(*)
    -- conta todas as colunas
    from aluno,curso
    where curso.nome = "Ciência da Computação" and curso.cursoId = aluno.curso;
```
   

     



